{{!-- Spells Tab --}}
<section class="xcc tab wizard-spells-bg {{tabs.wizardSpells.id}} {{tabs.wizardSpells.cssClass}}" id="wizardSpells"
  data-tab="{{tabs.wizardSpells.id}}" data-group="{{tabs.wizardSpells.group}}">
  <div class="box-title">Base Spell Check</div>
  <ol class="item-list item-list-spellcheck box-border" style="margin-bottom: 0; padding-bottom: 0;">
    <li class="item spell-item grid-col-span-8" style="border-bottom:none;">
      <div class="item-image">
        <img class="icon-filter" src="{{getGameImage 'sparkles.svg'}}" title="{{localize 'DCC.SpellCheck'}}"
          alt="{{localize 'DCC.SpellCheck'}}" width="24" height="24">
      </div>
      <div class="rollable spell-item-button icon-filter" data-action="rollSpellCheck" data-drag="true"
        data-drag-action="spellCheck" title="{{localize 'DCC.RollSpellCheck'}}">&nbsp;</div>
      <div></div>
      <div class="item-name">{{localize "DCC.SpellCheck"}}</div>
      <div class="item-notes" style="width:100%; margin-left:-53px"><input class="weapon-notes disabled" type="text"
          value="{{getLocalizedSpellCheckNotes actor}}" readonly=""></div>
      <div></div>
      <div><a class="item-control" title="{{localize 'XCC.ConfigureSpellCheck'}}" data-action="configureSpellCheck"><i
            class="fas fa-gear"></i></a>
      </div>
    </li>
  </ol>
  <div class="row-separator"></div>
  <div class="box-title">{{localize "DCC.Spells"}}</div>
  <ol class="item-list item-list-spells box-border" style="padding-bottom:0; margin-bottom:0;">
    <li class="item item-list-header grid-col-span-8">
      <div></div>
      <div></div>
      <div></div>
      <div>{{localize "XCC.SpellLevelShortest"}}</div>
      <div>{{localize "DCC.SpellName"}}</div>
      <div>{{localize "DCC.MercurialEffect"}}</div>
      <div>{{localize "DCC.SpellLost"}}</div>
      <div>
        <a class="item-create" title="{{localize 'DCC.ItemCreate'}}" data-action="itemCreate" data-type="spell">
          <i class="fas fa-plus"></i> {{localize "DCC.Add"}}
        </a>
      </div>
    </li>
    {{#each spells as |spells spelllevel|}}
    {{#each spells as |item id|}}
    <li class="item spell-item spell-draggable grid-col-span-8" data-item-id="{{item._id}}" data-ability="int"
      data-die="{{item.spellCheck.die}}" data-bonus="{{item.spellCheck.value}}" data-spell="{{item.name}}"
      data-drag="true" data-drag-action="item">
      <div class="item-image">
        <img class="spell-draggable icon-filter" src="{{item.img}}" title="{{item.name}}" alt="{{item.name}}" width="24"
          height="24" data-drag="true" data-drag-action="item">
      </div>
      <div class="rollable spell-item-button icon-filter" data-action="rollSpellCheck" data-drag="true"
        data-drag-action="spellCheck" title="{{localize 'DCC.RollSpellCheck'}}">&nbsp;</div>
      <div class="rollable spell-misfire-button icon-filter" data-action="rollSpellMisfire" data-drag="true" title="{{localize 'XCC.RollSpellMisfire'}}">&nbsp;</div>
      <div>{{item.system.level}}</div>
      <div class="item-name" data-tooltip="{{item.descriptionHTML}}">{{item.name}}</div>
      <div class="item-notes" data-tooltip="{{item.system.mercurialEffect.descriptionHTML}}">
        {{item.system.mercurialEffect.summary}}
      </div>
      <input class="item-lost" type="checkbox" name="items.{{item._id}}.system.lost" data-dtype="Boolean" {{checked
        item.system.lost}} />
      <div class="pt-2">
        <a class="item-control item-edit" title="{{localize 'DCC.ItemEdit'}}" data-action="itemEdit"
          data-item-id="{{item._id}}"><i class="fas fa-edit"></i></a>
        <a class="item-control item-delete" title="{{localize 'DCC.ItemDelete'}}" data-action="itemDelete"
          data-item-id="{{item._id}}"><i class="fas fa-trash"></i></a>
      </div>
    </li>
    {{/each}}
    {{else}}
    <li class="grid-col-span-8 grid-tpl-max">
      <div style="height: 50px; padding-top: 14px;">{{localize "DCC.SpellTabHelp"}}</div>
    </li>
    {{/each}}
    <li class = "grid-col-span-8 grid-tpl-max" style="margin-top:-2px">
      <div class="row-separator"></div>
    </li>
    <li class = "grid-col-span-8 grid-tpl-max">
      <div class="spells-footer" style="text-align: center;">
        {{localize "XCC.AdjustedMaxSpellLevel"}}{{getMaxSpellLevel actor}}&nbsp;&nbsp;&nbsp;&nbsp;
        {{localize "XCC.AdjustedKnownSpells"}}{{getKnownSpellsCount actor}}<br>
      </div>
    </li>
    <li class = "grid-col-span-8 grid-tpl-max">
      <div class="row-separator"></div>
    </li>
  </ol>
  <div class="row-separator"></div>
  <div class="grid-col-span-12 grid-container grid-row-gap-5 grid-col-gap-5">
    <div class="patron grid-col-span-12 box-border">
      <label for="system.class.corruption" class="box-title">{{localize "DCC.Corruptions"}}</label>
      <textarea id="system.class.corruption" name="system.class.corruption" rows="3" class="data-font"
        style="background: none; border: none" data-dtype="String">{{system.class.corruption}}</textarea>
    </div>
  </div>
</section>